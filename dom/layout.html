<p><span id="one"></span></p>
<p><span id="two"></span></p>
<button onclick="time1()">1</button>
<button onclick="time2()">2</button>
<script>
  function time(name, action) {
    var start = Date.now()
    action()
    console.log(name, 'took', Date.now() - start, 'ms')
  }
  function time1() {
    time('native', function() {
      var target = document.getElementById('one')
      while (target.offsetWidth < 2000) {
        target.appendChild(document.createTextNode('x'))
      }
    })
  }
  function time2() {
    time('clever', function() {
      var target = document.getElementById('two')
      target.appendChild(document.createTextNode('xxxxx'))
      var total = Math.ceil(2000 / (target.offsetWidth / 5))
      for (var i = 0; i < total; i++) {
        target.appendChild(document.createTextNode('x'))
      }
    })
  }
</script>
